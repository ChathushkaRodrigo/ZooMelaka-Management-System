{"ast":null,"code":"var _jsxFileName = \"/Users/ChathushkaRodrigo/Desktop/ITP Project/ZooMelaka-Management-System/frontend/src/components/AllAdoptions.js\";\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport '../CSS/AllAdoptions.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AllAdoptions extends Component {\n  constructor(props) {\n    super(props); //this.getAnimalId = this.getAnimalId.bind(this);\n\n    this.onDelete = id => {\n      axios.delete(`http://localhost:8015/adoption/delete/${id}`).then(res => {\n        alert(\"Delete Successfull\");\n        this.retrieveAdoptions();\n      });\n    };\n\n    this.handleSearchArea = e => {\n      const searchkey = e.currentTarget.value;\n      axios.get(\"http://localhost:8015/adoption/\").then(res => {\n        if (res.data.success) {\n          this.filterData(res.data.existingAdoptions, searchkey);\n        }\n      });\n    };\n\n    this.state = {\n      adoptions: [],\n      zooAnimal: [],\n      adoptedanimals: [],\n      AnimalId: ''\n    };\n  }\n\n  componentDidMount() {\n    this.retrieveAdoptions();\n  }\n\n  retrieveAdoptions() {\n    axios.get(\"http://localhost:8015/adoption/\").then(res => {\n      if (res.data.success) {\n        this.setState({\n          adoptions: res.data.existingAdoptions\n        });\n        console.log(this.state.adoptions);\n      }\n    });\n    axios.get(\"http://localhost:8015/animal\").then(res => {\n      if (res.data.success) {\n        this.setState({\n          zooAnimal: res.data.existingPosts\n        });\n        console.log(this.state.zooAnimal);\n      }\n    });\n  }\n\n  filterData(adoptions, searchkey) {\n    const result = adoptions.filter(adoptions => adoptions.animal_name.toLowerCase().includes(searchkey));\n    this.setState({\n      adoptions: result\n    });\n  }\n\n  // getAnimalId(id){\n  //   this.state.zooAnimal.map((animals) => {\n  //     if(animals.Animal_ID === id){\n  //        //this.state.AnimalId = this.state.zooAnimal._id;\n  //        let animid =  this.state.zooAnimal._id;\n  //        console.log(animid);\n  //       }})\n  //     }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bodybackgrnd\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"all-hero\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"bg_image bgimage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"adpt-det-topic\",\n            children: \"Adoptions Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"the_content\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"searchbar\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control mr-sm-2\",\n            type: \"search\",\n            placeholder: \"Search\",\n            \"aria-label\": \"Search\",\n            onChange: this.handleSearchArea\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-light table-bordered table-hover container \",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Animal Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Adoption Level\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Payment Plan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Live Cam\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Adoption Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Animal Id\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Member Id\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.adoptions.map((adoptions, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"row\",\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/adoption/details/${adoptions._id}`,\n                  style: {\n                    textDecoration: \"none\"\n                  },\n                  children: adoptions.animal_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: adoptions.adoption_level\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: adoptions.payment_plan\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: adoptions.live_cam.toString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: adoptions.adoption_date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/animal/details/${adoptions.animal_id}`,\n                  style: {\n                    textDecoration: \"none\"\n                  },\n                  children: adoptions.animal_id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/profile/${adoptions.member_id}`,\n                  style: {\n                    textDecoration: \"none\"\n                  },\n                  children: adoptions.member_id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"deletebtn\",\n                  href: \"#\",\n                  onClick: () => this.onDelete(adoptions._id),\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \" far fa-trash-alt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 25\n                  }, this), \"\\xA0Remove\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bottomspace\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default AllAdoptions;","map":{"version":3,"sources":["/Users/ChathushkaRodrigo/Desktop/ITP Project/ZooMelaka-Management-System/frontend/src/components/AllAdoptions.js"],"names":["React","Component","axios","Link","AllAdoptions","constructor","props","onDelete","id","delete","then","res","alert","retrieveAdoptions","handleSearchArea","e","searchkey","currentTarget","value","get","data","success","filterData","existingAdoptions","state","adoptions","zooAnimal","adoptedanimals","AnimalId","componentDidMount","setState","console","log","existingPosts","result","filter","animal_name","toLowerCase","includes","render","map","index","_id","textDecoration","adoption_level","payment_plan","live_cam","toString","adoption_date","animal_id","member_id"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport {Link} from 'react-router-dom';\nimport '../CSS/AllAdoptions.css';\n\n\nclass AllAdoptions extends Component {\n  constructor(props){\n    super(props);\n    //this.getAnimalId = this.getAnimalId.bind(this);\n\n    this.state={\n      adoptions:[],\n      zooAnimal:[],\n      adoptedanimals:[],\n      AnimalId:''\n    };\n  }\n\n  componentDidMount(){\n    this.retrieveAdoptions();\n  }\n\n  retrieveAdoptions(){\n    axios.get(\"http://localhost:8015/adoption/\").then(res =>{\n      if(res.data.success){\n        this.setState({\n          adoptions:res.data.existingAdoptions\n        });\n\n        console.log(this.state.adoptions)\n      }\n    })\n    axios.get(\"http://localhost:8015/animal\").then(res=>{\n    if(res.data.success){\n      this.setState({\n        zooAnimal:res.data.existingPosts\n    });\n    console.log(this.state.zooAnimal)\n    \n  }\n});\n  }\n\n  onDelete = (id) => {\n      axios.delete(`http://localhost:8015/adoption/delete/${id}`).then((res) => {\n          alert(\"Delete Successfull\");\n          this.retrieveAdoptions();\n      })\n  }\n\n  filterData(adoptions, searchkey){\n    const result = adoptions.filter((adoptions) => \n    adoptions.animal_name.toLowerCase().includes(searchkey)\n    );\n    this.setState({adoptions:result});\n    }\n\n\n\n\n    handleSearchArea = (e) => {\n    const searchkey = e.currentTarget.value;\n\n    axios.get(\"http://localhost:8015/adoption/\").then(res =>{\n        if(res.data.success){\n            this.filterData(res.data.existingAdoptions, searchkey)\n        }\n        \n        });\n    }\n\n    // getAnimalId(id){\n     \n    //   this.state.zooAnimal.map((animals) => {\n    //     if(animals.Animal_ID === id){\n    //        //this.state.AnimalId = this.state.zooAnimal._id;\n    //        let animid =  this.state.zooAnimal._id;\n    //        console.log(animid);\n    //       }})\n    //     }\n\n  render() {\n    return (\n \n        \n          <div className = \"bodybackgrnd\">\n            <div className = \"all-hero\">\n              <div class=\"bg_image bgimage\"></div>\n              <div className = \"content\">\n              <p className = \"adpt-det-topic\">Adoptions Details</p>\n              </div>\n            </div>\n            <div className = \"the_content\">\n            <br/>\n            \n            <div className =\"searchbar\">\n              <input className=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" onChange = {this.handleSearchArea}></input>\n            </div>\n            <br/>\n            <table className=\"table table-light table-bordered table-hover container \">\n              <thead>\n              <tr>\n                <th scope= \"col\">#</th>\n                <th scope= \"col\">Animal Name</th>\n                <th scope= \"col\">Adoption Level</th>\n                <th scope= \"col\">Payment Plan</th>\n                <th scope= \"col\">Live Cam</th>\n                <th scope= \"col\">Adoption Date</th>\n                <th scope= \"col\">Animal Id</th>\n                <th scope= \"col\">Member Id</th>\n                <th scope= \"col\">Action</th>\n              </tr>\n              </thead>\n              <tbody>\n                {this.state.adoptions.map((adoptions, index) => (\n                  <tr key = {index}>\n                    <th scope=\"row\">{index + 1}</th>\n                    <td>\n                  \n                        <Link to = {`/adoption/details/${adoptions._id}`} style = {{textDecoration:\"none\"}}>\n                        {adoptions.animal_name}\n                        </Link>\n                        \n                    </td>\n                    <td>{adoptions.adoption_level}</td>\n                    <td>{adoptions.payment_plan}</td>\n                    <td>{adoptions.live_cam.toString()}</td>\n                    <td>{adoptions.adoption_date}</td>\n                    <td>\n                    {/* {this.getAnimalId(adoptions.animal_id)} */}\n                    <Link to = {`/animal/details/${adoptions.animal_id}`} style = {{textDecoration:\"none\"}}>\n                      {adoptions.animal_id}\n                      </Link>\n                    </td>\n                    <td>\n                    <Link to = {`/profile/${adoptions.member_id}`} style = {{textDecoration:\"none\"}}>\n                      {adoptions.member_id}\n                      </Link>\n                      </td>\n                    <td>\n                      {/* <a className = \"btn btn-warning\" href = {`adoption/edit/${adoptions._id}`}>\n                        <i className= \"fas fa-edit\"></i>&nbsp;Edit\n                      </a>\n                      &nbsp; */}\n                      <a className = \"deletebtn\" href = \"#\" onClick = {() => this.onDelete(adoptions._id)}>\n                        <i className= \" far fa-trash-alt\"></i>&nbsp;Remove\n                      </a>\n\n                    </td>\n                  </tr>\n                  ))}\n\n              </tbody>\n              \n            </table>\n            \n            \n            <div className = \"bottomspace\"></div>\n            </div>\n          </div>\n        \n        \n      \n    );\n  }\n}\n\nexport default AllAdoptions;"]},"metadata":{},"sourceType":"module"}