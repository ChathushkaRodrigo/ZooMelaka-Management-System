{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ForeignObjectRenderer = require('./renderer/ForeignObjectRenderer');\n\nvar testRangeBounds = function testRangeBounds(document) {\n  var TEST_HEIGHT = 123;\n\n  if (document.createRange) {\n    var range = document.createRange();\n\n    if (range.getBoundingClientRect) {\n      var testElement = document.createElement('boundtest');\n      testElement.style.height = TEST_HEIGHT + 'px';\n      testElement.style.display = 'block';\n      document.body.appendChild(testElement);\n      range.selectNode(testElement);\n      var rangeBounds = range.getBoundingClientRect();\n      var rangeHeight = Math.round(rangeBounds.height);\n      document.body.removeChild(testElement);\n\n      if (rangeHeight === TEST_HEIGHT) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}; // iOS 10.3 taints canvas with base64 images unless crossOrigin = 'anonymous'\n\n\nvar testBase64 = function testBase64(document, src) {\n  var img = new Image();\n  var canvas = document.createElement('canvas');\n  var ctx = canvas.getContext('2d');\n  return new Promise(function (resolve) {\n    // Single pixel base64 image renders fine on iOS 10.3???\n    img.src = src;\n\n    var onload = function onload() {\n      try {\n        ctx.drawImage(img, 0, 0);\n        canvas.toDataURL();\n      } catch (e) {\n        return resolve(false);\n      }\n\n      return resolve(true);\n    };\n\n    img.onload = onload;\n\n    img.onerror = function () {\n      return resolve(false);\n    };\n\n    if (img.complete === true) {\n      setTimeout(function () {\n        onload();\n      }, 500);\n    }\n  });\n};\n\nvar testCORS = function testCORS() {\n  return typeof new Image().crossOrigin !== 'undefined';\n};\n\nvar testResponseType = function testResponseType() {\n  return typeof new XMLHttpRequest().responseType === 'string';\n};\n\nvar testSVG = function testSVG(document) {\n  var img = new Image();\n  var canvas = document.createElement('canvas');\n  var ctx = canvas.getContext('2d');\n  img.src = 'data:image/svg+xml,<svg xmlns=\\'http://www.w3.org/2000/svg\\'></svg>';\n\n  try {\n    ctx.drawImage(img, 0, 0);\n    canvas.toDataURL();\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n};\n\nvar isGreenPixel = function isGreenPixel(data) {\n  return data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\n};\n\nvar testForeignObject = function testForeignObject(document) {\n  var canvas = document.createElement('canvas');\n  var size = 100;\n  canvas.width = size;\n  canvas.height = size;\n  var ctx = canvas.getContext('2d');\n  ctx.fillStyle = 'rgb(0, 255, 0)';\n  ctx.fillRect(0, 0, size, size);\n  var img = new Image();\n  var greenImageSrc = canvas.toDataURL();\n  img.src = greenImageSrc;\n  var svg = (0, _ForeignObjectRenderer.createForeignObjectSVG)(size, size, 0, 0, img);\n  ctx.fillStyle = 'red';\n  ctx.fillRect(0, 0, size, size);\n  return (0, _ForeignObjectRenderer.loadSerializedSVG)(svg).then(function (img) {\n    ctx.drawImage(img, 0, 0);\n    var data = ctx.getImageData(0, 0, size, size).data;\n    ctx.fillStyle = 'red';\n    ctx.fillRect(0, 0, size, size);\n    var node = document.createElement('div');\n    node.style.backgroundImage = 'url(' + greenImageSrc + ')';\n    node.style.height = size + 'px'; // Firefox 55 does not render inline <img /> tags\n\n    return isGreenPixel(data) ? (0, _ForeignObjectRenderer.loadSerializedSVG)((0, _ForeignObjectRenderer.createForeignObjectSVG)(size, size, 0, 0, node)) : Promise.reject(false);\n  }).then(function (img) {\n    ctx.drawImage(img, 0, 0); // Edge does not render background-images\n\n    return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\n  }).catch(function (e) {\n    return false;\n  });\n};\n\nvar FEATURES = {\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_RANGE_BOUNDS() {\n    'use strict';\n\n    var value = testRangeBounds(document);\n    Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', {\n      value: value\n    });\n    return value;\n  },\n\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_SVG_DRAWING() {\n    'use strict';\n\n    var value = testSVG(document);\n    Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', {\n      value: value\n    });\n    return value;\n  },\n\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_BASE64_DRAWING() {\n    'use strict';\n\n    return function (src) {\n      var _value = testBase64(document, src);\n\n      Object.defineProperty(FEATURES, 'SUPPORT_BASE64_DRAWING', {\n        value: function value() {\n          return _value;\n        }\n      });\n      return _value;\n    };\n  },\n\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_FOREIGNOBJECT_DRAWING() {\n    'use strict';\n\n    var value = typeof Array.from === 'function' && typeof window.fetch === 'function' ? testForeignObject(document) : Promise.resolve(false);\n    Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', {\n      value: value\n    });\n    return value;\n  },\n\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_CORS_IMAGES() {\n    'use strict';\n\n    var value = testCORS();\n    Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', {\n      value: value\n    });\n    return value;\n  },\n\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_RESPONSE_TYPE() {\n    'use strict';\n\n    var value = testResponseType();\n    Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', {\n      value: value\n    });\n    return value;\n  },\n\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_CORS_XHR() {\n    'use strict';\n\n    var value = ('withCredentials' in new XMLHttpRequest());\n    Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', {\n      value: value\n    });\n    return value;\n  }\n\n};\nexports.default = FEATURES;","map":{"version":3,"sources":["/Users/ChathushkaRodrigo/Desktop/ITP Project/ZooMelaka-Management-System/frontend/node_modules/react-to-pdf/node_modules/html2canvas/dist/npm/Feature.js"],"names":["Object","defineProperty","exports","value","_ForeignObjectRenderer","require","testRangeBounds","document","TEST_HEIGHT","createRange","range","getBoundingClientRect","testElement","createElement","style","height","display","body","appendChild","selectNode","rangeBounds","rangeHeight","Math","round","removeChild","testBase64","src","img","Image","canvas","ctx","getContext","Promise","resolve","onload","drawImage","toDataURL","e","onerror","complete","setTimeout","testCORS","crossOrigin","testResponseType","XMLHttpRequest","responseType","testSVG","isGreenPixel","data","testForeignObject","size","width","fillStyle","fillRect","greenImageSrc","svg","createForeignObjectSVG","loadSerializedSVG","then","getImageData","node","backgroundImage","reject","catch","FEATURES","SUPPORT_RANGE_BOUNDS","SUPPORT_SVG_DRAWING","SUPPORT_BASE64_DRAWING","_value","SUPPORT_FOREIGNOBJECT_DRAWING","Array","from","window","fetch","SUPPORT_CORS_IMAGES","SUPPORT_RESPONSE_TYPE","SUPPORT_CORS_XHR","default"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _ForeignObjectRenderer = require('./renderer/ForeignObjectRenderer');\n\nvar testRangeBounds = function testRangeBounds(document) {\n    var TEST_HEIGHT = 123;\n\n    if (document.createRange) {\n        var range = document.createRange();\n        if (range.getBoundingClientRect) {\n            var testElement = document.createElement('boundtest');\n            testElement.style.height = TEST_HEIGHT + 'px';\n            testElement.style.display = 'block';\n            document.body.appendChild(testElement);\n\n            range.selectNode(testElement);\n            var rangeBounds = range.getBoundingClientRect();\n            var rangeHeight = Math.round(rangeBounds.height);\n            document.body.removeChild(testElement);\n            if (rangeHeight === TEST_HEIGHT) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n};\n\n// iOS 10.3 taints canvas with base64 images unless crossOrigin = 'anonymous'\nvar testBase64 = function testBase64(document, src) {\n    var img = new Image();\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n\n    return new Promise(function (resolve) {\n        // Single pixel base64 image renders fine on iOS 10.3???\n        img.src = src;\n\n        var onload = function onload() {\n            try {\n                ctx.drawImage(img, 0, 0);\n                canvas.toDataURL();\n            } catch (e) {\n                return resolve(false);\n            }\n\n            return resolve(true);\n        };\n\n        img.onload = onload;\n        img.onerror = function () {\n            return resolve(false);\n        };\n\n        if (img.complete === true) {\n            setTimeout(function () {\n                onload();\n            }, 500);\n        }\n    });\n};\n\nvar testCORS = function testCORS() {\n    return typeof new Image().crossOrigin !== 'undefined';\n};\n\nvar testResponseType = function testResponseType() {\n    return typeof new XMLHttpRequest().responseType === 'string';\n};\n\nvar testSVG = function testSVG(document) {\n    var img = new Image();\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    img.src = 'data:image/svg+xml,<svg xmlns=\\'http://www.w3.org/2000/svg\\'></svg>';\n\n    try {\n        ctx.drawImage(img, 0, 0);\n        canvas.toDataURL();\n    } catch (e) {\n        return false;\n    }\n    return true;\n};\n\nvar isGreenPixel = function isGreenPixel(data) {\n    return data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\n};\n\nvar testForeignObject = function testForeignObject(document) {\n    var canvas = document.createElement('canvas');\n    var size = 100;\n    canvas.width = size;\n    canvas.height = size;\n    var ctx = canvas.getContext('2d');\n    ctx.fillStyle = 'rgb(0, 255, 0)';\n    ctx.fillRect(0, 0, size, size);\n\n    var img = new Image();\n    var greenImageSrc = canvas.toDataURL();\n    img.src = greenImageSrc;\n    var svg = (0, _ForeignObjectRenderer.createForeignObjectSVG)(size, size, 0, 0, img);\n    ctx.fillStyle = 'red';\n    ctx.fillRect(0, 0, size, size);\n\n    return (0, _ForeignObjectRenderer.loadSerializedSVG)(svg).then(function (img) {\n        ctx.drawImage(img, 0, 0);\n        var data = ctx.getImageData(0, 0, size, size).data;\n        ctx.fillStyle = 'red';\n        ctx.fillRect(0, 0, size, size);\n\n        var node = document.createElement('div');\n        node.style.backgroundImage = 'url(' + greenImageSrc + ')';\n        node.style.height = size + 'px';\n        // Firefox 55 does not render inline <img /> tags\n        return isGreenPixel(data) ? (0, _ForeignObjectRenderer.loadSerializedSVG)((0, _ForeignObjectRenderer.createForeignObjectSVG)(size, size, 0, 0, node)) : Promise.reject(false);\n    }).then(function (img) {\n        ctx.drawImage(img, 0, 0);\n        // Edge does not render background-images\n        return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\n    }).catch(function (e) {\n        return false;\n    });\n};\n\nvar FEATURES = {\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_RANGE_BOUNDS() {\n        'use strict';\n\n        var value = testRangeBounds(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_SVG_DRAWING() {\n        'use strict';\n\n        var value = testSVG(document);\n        Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_BASE64_DRAWING() {\n        'use strict';\n\n        return function (src) {\n            var _value = testBase64(document, src);\n            Object.defineProperty(FEATURES, 'SUPPORT_BASE64_DRAWING', { value: function value() {\n                    return _value;\n                } });\n            return _value;\n        };\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_FOREIGNOBJECT_DRAWING() {\n        'use strict';\n\n        var value = typeof Array.from === 'function' && typeof window.fetch === 'function' ? testForeignObject(document) : Promise.resolve(false);\n        Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_CORS_IMAGES() {\n        'use strict';\n\n        var value = testCORS();\n        Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_RESPONSE_TYPE() {\n        'use strict';\n\n        var value = testResponseType();\n        Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', { value: value });\n        return value;\n    },\n    // $FlowFixMe - get/set properties not yet supported\n    get SUPPORT_CORS_XHR() {\n        'use strict';\n\n        var value = 'withCredentials' in new XMLHttpRequest();\n        Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', { value: value });\n        return value;\n    }\n};\n\nexports.default = FEATURES;"]},"metadata":{},"sourceType":"script"}