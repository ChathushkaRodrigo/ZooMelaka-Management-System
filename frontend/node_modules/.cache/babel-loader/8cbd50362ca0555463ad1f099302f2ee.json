{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Proxy = undefined;\n\nvar _Feature = require('./Feature');\n\nvar _Feature2 = _interopRequireDefault(_Feature);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Proxy = exports.Proxy = function Proxy(src, options) {\n  if (!options.proxy) {\n    return Promise.reject(process.env.NODE_ENV !== 'production' ? 'No proxy defined' : null);\n  }\n\n  var proxy = options.proxy;\n  return new Promise(function (resolve, reject) {\n    var responseType = _Feature2.default.SUPPORT_CORS_XHR && _Feature2.default.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';\n    var xhr = _Feature2.default.SUPPORT_CORS_XHR ? new XMLHttpRequest() : new XDomainRequest();\n\n    xhr.onload = function () {\n      if (xhr instanceof XMLHttpRequest) {\n        if (xhr.status === 200) {\n          if (responseType === 'text') {\n            resolve(xhr.response);\n          } else {\n            var reader = new FileReader(); // $FlowFixMe\n\n            reader.addEventListener('load', function () {\n              return resolve(reader.result);\n            }, false); // $FlowFixMe\n\n            reader.addEventListener('error', function (e) {\n              return reject(e);\n            }, false);\n            reader.readAsDataURL(xhr.response);\n          }\n        } else {\n          reject(process.env.NODE_ENV !== 'production' ? 'Failed to proxy resource ' + src.substring(0, 256) + ' with status code ' + xhr.status : '');\n        }\n      } else {\n        resolve(xhr.responseText);\n      }\n    };\n\n    xhr.onerror = reject;\n    xhr.open('GET', proxy + '?url=' + encodeURIComponent(src) + '&responseType=' + responseType);\n\n    if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {\n      xhr.responseType = responseType;\n    }\n\n    if (options.imageTimeout) {\n      var timeout = options.imageTimeout;\n      xhr.timeout = timeout;\n\n      xhr.ontimeout = function () {\n        return reject(process.env.NODE_ENV !== 'production' ? 'Timed out (' + timeout + 'ms) proxying ' + src.substring(0, 256) : '');\n      };\n    }\n\n    xhr.send();\n  });\n};","map":{"version":3,"sources":["/Users/ChathushkaRodrigo/Desktop/ITP Project/ZooMelaka-Management-System/frontend/node_modules/react-to-pdf/node_modules/html2canvas/dist/npm/Proxy.js"],"names":["Object","defineProperty","exports","value","Proxy","undefined","_Feature","require","_Feature2","_interopRequireDefault","obj","__esModule","default","src","options","proxy","Promise","reject","process","env","NODE_ENV","resolve","responseType","SUPPORT_CORS_XHR","SUPPORT_RESPONSE_TYPE","xhr","XMLHttpRequest","XDomainRequest","onload","status","response","reader","FileReader","addEventListener","result","e","readAsDataURL","substring","responseText","onerror","open","encodeURIComponent","imageTimeout","timeout","ontimeout","send"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Proxy = undefined;\n\nvar _Feature = require('./Feature');\n\nvar _Feature2 = _interopRequireDefault(_Feature);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Proxy = exports.Proxy = function Proxy(src, options) {\n    if (!options.proxy) {\n        return Promise.reject(process.env.NODE_ENV !== 'production' ? 'No proxy defined' : null);\n    }\n    var proxy = options.proxy;\n\n    return new Promise(function (resolve, reject) {\n        var responseType = _Feature2.default.SUPPORT_CORS_XHR && _Feature2.default.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';\n        var xhr = _Feature2.default.SUPPORT_CORS_XHR ? new XMLHttpRequest() : new XDomainRequest();\n        xhr.onload = function () {\n            if (xhr instanceof XMLHttpRequest) {\n                if (xhr.status === 200) {\n                    if (responseType === 'text') {\n                        resolve(xhr.response);\n                    } else {\n                        var reader = new FileReader();\n                        // $FlowFixMe\n                        reader.addEventListener('load', function () {\n                            return resolve(reader.result);\n                        }, false);\n                        // $FlowFixMe\n                        reader.addEventListener('error', function (e) {\n                            return reject(e);\n                        }, false);\n                        reader.readAsDataURL(xhr.response);\n                    }\n                } else {\n                    reject(process.env.NODE_ENV !== 'production' ? 'Failed to proxy resource ' + src.substring(0, 256) + ' with status code ' + xhr.status : '');\n                }\n            } else {\n                resolve(xhr.responseText);\n            }\n        };\n\n        xhr.onerror = reject;\n        xhr.open('GET', proxy + '?url=' + encodeURIComponent(src) + '&responseType=' + responseType);\n\n        if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {\n            xhr.responseType = responseType;\n        }\n\n        if (options.imageTimeout) {\n            var timeout = options.imageTimeout;\n            xhr.timeout = timeout;\n            xhr.ontimeout = function () {\n                return reject(process.env.NODE_ENV !== 'production' ? 'Timed out (' + timeout + 'ms) proxying ' + src.substring(0, 256) : '');\n            };\n        }\n\n        xhr.send();\n    });\n};"]},"metadata":{},"sourceType":"script"}